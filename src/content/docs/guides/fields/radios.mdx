---
title: Radio Buttons
description: A guide in my new Starlight docs site.
sidebar:
  order: 3
---

import { Aside } from '@astrojs/starlight/components';
import AnatomyCanvas from '@components/AnatomyCanvas.vue';
import AnatomyRadio from '@components/AnatomyRadio.vue';
import MdxRepl from '@components/MdxRepl.vue';

import RadioGroupPartial from './_partials/_radioGroup.mdx';
import RadioInputPartial from './_partials/_radioInput.mdx';
import RadioItemPartial from './_partials/_radioItem.mdx';

> A radio group is a set of checkable buttons, known as radio buttons, where no more than one of the buttons can be checked at a time. Some implementations may initialize the set with all buttons in the unchecked state in order to force the user to check one of the buttons before moving past a certain point in the workflow.

Radios in HTML do not have a "group" concept, but they get grouped implicitly by the "name" attribute.

This isn't the case in most UI libraries, as they are grouped by the model name they mutate. As such, a "group" concept is introduced in this library to provide a consistent API for radio groups regardless if they are bound to the same model or if they have the same name or not.

This means you need to use both the `useRadioGroup` and `useRadio` composables in order to build radio components.

[Aria Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/radio/)

## Features

You can build radio components using either the native HTML `input[type="radio"]` elements or custom HTML elements. We provide the behavior, state and accessibility implementation for both cases with the same API and features.

The following features are implemented:

- `v-model` support for radio groups.
- Support for either `input[type="radio"]` or custom HTML elements as a base element for the radio component.
- Accessibility for labels, descriptions, error messages, radio groups, and custom radio components.
- Supported Keyboard features:
  - Focus management with <kbd>ArrowLeft</kbd> and <kbd>ArrowRight</kbd> keys with RTL support.
  - Focus groups with Tab navigation.
  - Support for orientation with `horizontal` and `vertical` values.
- Form management, data collection and validation with Typed Schemas or native HTML5 validation.

## Anatomy

<AnatomyCanvas>
  <AnatomyRadio />
</AnatomyCanvas>

## Building a Radio Group Component

The `useRadioGroup` provides the behavior, state and accessibility implementation for group components.

Unlike checkboxes, radio components **MUST** be grouped by a radio group component.

Which is why we will start by building a radio group component.

<RadioGroupPartial />

Keep in mind that the `RadioGroup` component will be used in the following examples.

## Building a Radio Component

With the Radio Group component built, we can now build a radio input component or rather the radio item component. You will be using the `useRadio` composable to build the radio component.

You can build radio components using either the native HTML `input[type="radio"]` elements or custom HTML elements. Doesn't matter which one you choose, both have the same exact API and formwerk does the work needed for each case behind the scenes.

The following snippets shows you the starting point for building a radio component with the `useRadio` composable.

```ts
import { type RadioProps, useRadio } from '@formwerk/core';

const props = defineProps<RadioProps>();

const { labelProps, inputProps } = useRadio(props);
```

We also provide the `RadioProps` type for you to use as your component props. You are not required to use it but it is recommended to make use of the full feature set of the `useRadio` composable and by extension, your component.

With the basics out of the way, let's build a radio component with two common variations.

### With `input` element as a base

You can use the `useRadio` composable to build a radio component with the `input` element as a base.

<MdxRepl client:load>

<div slot="Radio.vue">

<RadioInputPartial />

</div>

<div slot="!RadioGroup.vue">
  <RadioGroupPartial />
</div>

<div slot="App.vue">
```vue
<script setup lang="ts">
import Radio from './Radio.vue';
import RadioGroup from './RadioGroup.vue';
</script>

<template>
  <RadioGroup label="Radio Group">
    <Radio label="Radio 1" value="1" />
    <Radio label="Radio 2" value="2" />
    <Radio label="Radio 3" value="3" />
  </RadioGroup>
</template>
````

</div>

</MdxRepl>

The last example is limited to the styling capabilities of the native `input` element. A common solution is to visually hide the native input element and add custom elements in its place to have the best of both worlds.

### With custom HTML element as a base

For unlimited styling needs, you don't have to use the `input` element. With the same API you can use custom HTML elements as a binding target for `inputProps` object.

In the following example we are using a `span` element as a base element for the radio. Try keyboard navigation, clicking, focusing and other interactions to see how it behaves.

<MdxRepl client:load>

<div slot="Radio.vue">
  <RadioItemPartial />
</div>

<div slot="!RadioGroup.vue">
  <RadioGroupPartial />
</div>

<div slot="App.vue">
```vue
<script setup lang="ts">
import Radio from './Radio.vue';
import RadioGroup from './RadioGroup.vue';
</script>

<template>
  <RadioGroup label="Radio Group">
    <Radio label="Radio 1" value="1" />
    <Radio label="Radio 2" value="2" />
    <Radio label="Radio 3" value="3" />
  </RadioGroup>
</template>
````

</div>

</MdxRepl>

## Validation

Radio components support validation with native HTML5 constraints or typed schemas. However, the `useRadioGroup` is the one that accepts validation props.

### HTML Constraint Validation

The following properties are supported on `useRadioGroup` and `useRadio` that use the `input` element as a base. Custom elements do not support these properties.

| Name       | Type      | Description                           |
| ---------- | --------- | ------------------------------------- |
| `required` | `boolean` | Whether the number field is required. |

<MdxRepl client:load>

<div slot="!Radio.vue">
  <RadioInputPartial />
</div>

<div slot="!RadioGroup.vue">
  <RadioGroupPartial />
</div>

<div slot="App.vue">

```vue
<script setup lang="ts">
import Radio from './Radio.vue';
import RadioGroup from './RadioGroup.vue';
</script>

<template>
  <RadioGroup label="Radio Group" required>
    <Radio label="Radio 1" value="1" />
    <Radio label="Radio 2" value="2" />
    <Radio label="Radio 3" value="3" />
  </RadioGroup>
</template>
```

</div>

</MdxRepl>

### Typed Schema

`useRadioGroup` also supports Typed Schema validation through the `schema` prop.

<Aside>

Depending on the schema validation provider you are using, the API might slightly differ. Check the supported validation providers for more information. In this example we are using the `zod` schema validation provider.

</Aside>

Here is an example of using zod as a typed schema to validate the radio group, we will be using the radio item component from the previous examples.

<MdxRepl client:load>

<div slot="!RadioItem.vue">
  <RadioItemPartial />
</div>

<div slot="!RadioGroup.vue">
  <RadioGroupPartial />
</div>

<div slot="App.vue">

```vue
<script setup lang="ts">
import { useForm } from '@formwerk/core';
import RadioItem from './RadioItem.vue';
import RadioGroup from './RadioGroup.vue';
import { z } from 'zod';
import { defineSchema } from '@formwerk/schema-zod';

const { values } = useForm({});

const schema = defineSchema(
  z
    .string()
    .min(1, { message: 'Please select a drink' })
    .startsWith('‚òïÔ∏è', { message: 'WRONG ANSWER!' }),
);
</script>

<template>
  <RadioGroup label="Select a drink" :schema="schema">
    <RadioItem label="Tea" value="üçµ" />
    <RadioItem label="Coffee" value="‚òïÔ∏è" />
    <RadioItem label="Milk" value="ü•õ" />
  </RadioGroup>
</template>
```

</div>

</MdxRepl>

## Styling

## Usage

## API

### Radio Group

| Name                | Type                               | Description                                                                |
| ------------------- | ---------------------------------- | -------------------------------------------------------------------------- |
| `descriptionProps`  | `AriaDescriptionProps`             | The group's description element props.                                     |
| `displayError`      | `() => string \| undefined`        | A getter to display the error message if touched.                          |
| `errorMessage`      | `string \| undefined`              | The group's first error message.                                           |
| `errorMessageProps` | `AriaErrorMessageProps`            | The group's error message element props.                                   |
| `errors`            | `string[]`                         | The group's error messages.                                                |
| `fieldValue`        | `any[]`                            | The group's value.                                                         |
| `groupProps`        | `AriaGroupProps`                   | The group's element props.                                                 |
| `isDirty`           | `boolean`                          | If the group is dirty, that is if the group value has changed.             |
| `isTouched`         | `boolean`                          | If the group is touched, that is if at least one checkbox item is touched. |
| `isValid`           | `boolean`                          | If the group has any error messages.                                       |
| `labelProps`        | `AriaLabelProps`                   | The group's label element props.                                           |
| `setErrors`         | `(msg: Arrayable<string>) => void` | Sets the error messages for the group and sets the `isValid` state.        |
| `setTouched`        | `(touched: boolean) => void`       | Sets the `isTouched` state.                                                |
| `setValue`          | `(value: any[]) => void`           | Sets the group value and updates the selected item checked state.          |

### Radio

| Name         | Type             | Description                      |
| ------------ | ---------------- | -------------------------------- |
| `inputProps` | Complex Binding  | The radio's base element props.  |
| `isChecked`  | `boolean`        | If the radio is checked.         |
| `isDisabled` | `boolean`        | If the radio is disabled.        |
| `labelProps` | `AriaLabelProps` | The radio's label element props. |
